// Test dynamic access on interface-typed fields
// Bug #1: dyn_get_attr reads interface fields incorrectly (only 1 slot instead of 2)

import "errors"

type S struct {
    E error
}

func main() {
    // Create a struct with an error field
    s := &S{E: errors.New("boom")}
    
    // Cast to any
    var a any = s
    
    // Dynamic access to the error field
    v, err := a~>E
    if err != nil {
        println("unexpected error:", err.Error())
        return
    }
    
    // Type assert back to error
    e, ok := v.(error)
    if !ok {
        println("FAIL: type assertion to error failed")
        return
    }
    
    if e == nil {
        println("FAIL: error is nil")
        return
    }
    
    if e.Error() != "boom" {
        println("FAIL: error message mismatch, got:", e.Error())
        return
    }
    
    println("PASS")
}

// Expected output:
// PASS
