package main

func assert(cond bool, msg string) {
	if !cond {
		panic("ASSERT FAILED: " + msg)
	}
}

func main() {
	// Overlapping copy must behave like memmove (Go semantics).
	b := []byte("abcdef")
	// dst and src overlap: dst starts before src.
	n := copy(b, b[1:])
	assert(n == 5, "copy should return min(len(dst), len(src))")
	assert(string(b) == "bcdeff", "overlapping copy should behave like memmove")

	// Another overlap direction: dst starts after src.
	b2 := []byte("abcdef")
	n2 := copy(b2[1:], b2)
	assert(n2 == 5, "copy should return min(len(dst), len(src))")
	assert(string(b2) == "aabcde", "overlapping copy should behave like memmove")
}
