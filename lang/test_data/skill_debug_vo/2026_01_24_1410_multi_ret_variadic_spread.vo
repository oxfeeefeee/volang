package main

func pair() (int, int) {
	return 10, 20
}

func triple() (int, int, int) {
	return 1, 2, 3
}

func sum(nums ...int) int {
	total := 0
	for _, n := range nums {
		total += n
	}
	return total
}

func testMultiReturnAsVariadicSpread() {
	result := sum(pair())
	assert(result == 30, "pair as variadic")
	
	result2 := sum(triple())
	assert(result2 == 6, "triple as variadic")
}

func testMultiReturnToSlice() {
	a, b := pair()
	result := sum(5, a, b)
	assert(result == 35, "expanded pair with literal")
}

func sumWithFirst(first int, rest ...int) int {
	total := first
	for _, n := range rest {
		total += n
	}
	return total
}

func testSumWithFirst() {
	a, b := pair()
	result := sumWithFirst(a, b)
	assert(result == 30, "sum with expanded pair")
}

func pairAny() (any, any) {
	return 100, "hello"
}

func collectAny(vals ...any) int {
	return len(vals)
}

func testMultiReturnAnyAsVariadic() {
	count := collectAny(pairAny())
	assert(count == 2, "any pair as variadic")
}

func testNestedMultiReturnVariadic() {
	inner := func() (int, int) {
		return 3, 4
	}
	
	result := sum(inner())
	assert(result == 7, "nested func multi-return as variadic")
}

func main() {
	testMultiReturnAsVariadicSpread()
	testMultiReturnToSlice()
	testSumWithFirst()
	testMultiReturnAnyAsVariadic()
	testNestedMultiReturnVariadic()
	println("PASS")
}
