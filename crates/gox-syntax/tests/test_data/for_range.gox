// For-range test
package main;

// Range over slice with index and value
func rangeSlice() {
    nums := []int{1, 2, 3, 4, 5};
    for i, v := range nums {
        println(i, v);
    }
}

// Range over slice with index only
func rangeIndexOnly() {
    names := []string{"a", "b", "c"};
    for i := range names {
        println(i);
    }
}

// Range over map
func rangeMap() {
    m := map[string]int{"one": 1, "two": 2};
    for k, v := range m {
        println(k, v);
    }
}

// Range over map with key only
func rangeMapKeyOnly() {
    m := map[string]int{"a": 1, "b": 2};
    for k := range m {
        println(k);
    }
}

// Range with assignment (not :=)
func rangeAssign() {
    var i int;
    var v int;
    nums := []int{10, 20, 30};
    for i, v = range nums {
        println(i, v);
    }
}

// Range with no variables
func rangeNoVars() {
    ch := make(chan int, 3);
    ch <- 1;
    ch <- 2;
    ch <- 3;
    close(ch);
    for range ch {
        println("received");
    }
}

// Nested for-range
func nestedRange() {
    matrix := [][]int{
        []int{1, 2},
        []int{3, 4},
    };
    for i, row := range matrix {
        for j, val := range row {
            println(i, j, val);
        }
    }
}

func main() {
    rangeSlice();
    rangeIndexOnly();
    rangeMap();
    rangeMapKeyOnly();
    rangeAssign();
    rangeNoVars();
    nestedRange();
}
