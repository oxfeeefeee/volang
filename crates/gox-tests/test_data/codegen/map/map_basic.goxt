# Map test: create map, set/get values

module map_test

func main
  locals 10
  # r0 = new map (type 17=MAP, key=int, val=int)
  0: MapNew r0, 17, 17
  # r1 = key 1
  1: LoadInt r1, 1
  # r2 = value 100
  2: LoadInt r2, 100
  # map[1] = 100
  3: MapSet r0, r1, r2
  # r3 = key 2
  4: LoadInt r3, 2
  # r4 = value 200
  5: LoadInt r4, 200
  # map[2] = 200
  6: MapSet r0, r3, r4
  # r5 = map[1]
  7: MapGet r5, r0, r1
  # print r5 (should be 100)
  8: DebugPrint r5
  # r6 = len(map)
  9: MapLen r6, r0
  # print r6 (should be 2)
  10: DebugPrint r6
  11: Return r0, 0
end

entry main
