package main

import (
    "os"
    "../libs/detra"
    "../libs/detra-renderer-tui"
)

func main() {
    data, err := os.ReadFile("vibe-studio/ui/app.detra")
    if err != nil {
        panic("failed to read detra file: " + err.Error())
    }
    source := string(data)
    
    program := detra.Compile(source)
    state := detra.InitState(program)
    
    state, tree, errMsg, errKind := detra.Execute(program, state, nil, "", nil)
    if errKind != "" {
        println("Error:", errKind, errMsg)
        return
    }
    
    detra_renderer_tui.RunOnce(
        detra_renderer_tui.Config{
            Title:  "Vibe Studio TUI Test",
            Width:  120,
            Height: 40,
        },
        detra_renderer_tui.Tree(tree),
    )
}
